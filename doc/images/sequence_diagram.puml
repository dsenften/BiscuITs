@startuml
actor Benutzer
participant "Streamlit UI" as UI
participant "Microservice 1\n(Flask API)" as MS1
participant RabbitMQ
participant "Microservice 2\n(Worker)" as MS2

Benutzer -> UI: Eingabe Name, PLZ, Ort
UI -> MS1: POST /submit {name, address}
MS1 -> RabbitMQ: Nachricht in "request_queue" (mit correlation_id)
RabbitMQ -> MS2: Nachricht wird zugestellt
MS2 -> MS2: Verarbeitung (simuliert GPT-4o-Abfrage)
MS2 -> RabbitMQ: Publikation in "response_queue" (mit correlation_id und Ergebnis)
RabbitMQ -> MS1: Empfang der Antwort
UI -> MS1: GET /result/{correlation_id} (Polling)
MS1 -> UI: Antwort (Ergebnis) oder Status pending

@enduml
